@(news: Iterable[model.News], users: Map[Long,String], title: String = Messages("news.title"))(implicit flash: Flash, request: Request[AnyContent])

@import helper._
@import tags._

@main(title) {
    
    <div class="container">
    
	    <div class="page-header">
	    <h1>@title</h1>
	    </div>
  	
		@flash.get("status").map { status =>
			@flash.get("title").map { title =>
			   <div class="alert alert-success">
			   	<button type="button" class="close" data-dismiss="alert">×</button>
		       	<strong>@Messages("news.status." + status).format(title)</strong>
		       </div>
	       }.getOrElse {
	       		<div class="alert alert-success">
			   	<button type="button" class="close" data-dismiss="alert">×</button>
		       	<strong>@Messages("news.status." + status)</strong>
		       </div>
	       }
	    }

        @news.map { n =>
            <div class="page-header">
	    		<h2>@n.title</h2>
	    		<p>@Html(n.text.split("<!--more-->").head)...</p>
	    		<p>@users(n.authorId) @n.published</p>
	    		<p>@Messages("news.labels") 
				@for(l <- n.labels.split(",")) {
				  <span class="label">@l</span>
				}
				</p>
	    		<p><a class="btn" href="@routes.News.view(n.id)">@Messages("global.readMore")</a></p>
    		</div>
        }
                
	    	<div class="form-actions">
	    		<a class="btn btn-success" href="@routes.News.create">@Messages("news.addNews")</a>
	        </div>
    	
	      <footer>
	        <div class="social">
	        	@googlePlus(request.uri)
	        	@facebookLike(request.uri)
	        </div>
	        <p>&copy; @Messages("brand") @Messages("years")</p>
	      </footer>
    	
    </div>

}

