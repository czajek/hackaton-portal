@(hackathon: Option[model.Hackathon], user: Option[securesocial.core.SocialUser])(implicit flash: Flash, request: Request[AnyContent], lang: Lang)

@import tags._
@import java.text._

@hackathonMain(hackathon, user, "details", "hackathons.status", true) {

  @hackathon.map { hackathon =>
  
  	<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
  	<script type="text/javascript" src="@routes.Assets.at("javascripts/infobubble.js")"></script>
  	<script type="text/javascript" src="@routes.Assets.at("javascripts/hackathon-map.js")"></script>
  	<script type="text/javascript" src="@routes.JsMessagesFeed.jsMessages"></script>

    <div class="row">
  		<div class="span4">
  			<dl data-hackathon-id="@hackathon.id">
  				<dt>@Messages("hackathons.location.label")</dt>
  					<dd>@hackathon.location.name</dd>
       				<dd>@hackathon.location.fullAddress</dd>
       				<dd>@hackathon.location.city, @hackathon.location.postalCode</dd>
  					<dd>@hackathon.location.country</dd>

 				<dt>@Messages("hackathons.date.label")</dt>
  					<dd>@tags.dateFormat(hackathon.date)</dd>

  				<dt>@Messages("hackathons.organiser.label")</dt>
  					<dd>@hackathon.organiser.name</dd>

  			</dl>
		</div>
    
    	<div class="span8">
  			<div id="map-canvas" style="width:400px; height:250px"></div>
  		</div>
  		
  		<p>&nbsp;</p>
  		
	</div>
	
	<div>
		@Html(hackathon.description)
	</div>
	
	<div>
		
		@Option(hackathon.members).filterNot(_.isEmpty).map { members =>
			<h2>@Messages("hackathons.members.label") 
				<small>@Messages("global.total"): @hackathon.members.size</small>
			</h2>
			<ul style="list-style:none;">
				@members.map { member =>
				<li>@if(member.avatarUrl) { 
						<img src="@member.avatarUrl" alt="@member.name" height="40px" width="40px" />    				
					}
					@member.name
				</li>
				}
			</ul>
		}.getOrElse {
    	    <h3>@Messages("hackathons.noMembers")</h3>
	    }
		
	</div>
	
	<p>&nbsp;</p>
    
  }
}
