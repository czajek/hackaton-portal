@(hackathons: Iterable[model.Hackathon], user: Option[securesocial.core.SocialUser])(implicit flash: Flash, request: Request[AnyContent], lang: Lang)

@import helper._
@import tags._

@scripts = {
    <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
    <script type="text/javascript" src="@routes.Assets.at("javascripts/infobubble.js")"></script>
    <script src="@routes.Assets.at("javascripts/hackathons-map.js")" type="text/javascript"></script>
    <script type="text/javascript" src="@routes.JsMessagesFeed.jsMessages"></script>
}

@main(Messages("hackathons.title"), user, nav = "hackathons", scripts) {
<div class="container">
  
    <div class="page-header">
    	<h1>@Messages("hackathons.title") <a class="btn btn-success pull-right" href="@routes.Hackathon.create">@Messages("hackathons.addHackathon")</a></h1>
    </div>
	
	@flash.get("status").map { status =>
		@flash.get("title").map { title =>
			<div class="alert alert-success">
				<button type="button" class="close" data-dismiss="alert">×</button>
		       	<strong>@Messages("hackathons.status." + status).format(title)</strong>
			</div>
		}.getOrElse {
			<div class="alert alert-success">
				<button type="button" class="close" data-dismiss="alert">×</button>
		       	<strong>@Messages("hackathons.status." + status)</strong>
			</div>
		}
	}
	
	<div id="map-canvas" style="width: 100%; height: 600px;">
	</div>

	@hackathons.map { hackathon =>
		<div class="page-header">
			<h2>@hackathon.subject
				<small>@Messages("hackathons.hackathonStatus." + hackathon.status)</small>
			</h2>
            <p>@hackathon.location.city @hackathon.date</p>
    		<p><a class="btn" href="@routes.Hackathon.view(hackathon.id)">@Messages("global.readMore")</a></p>
  		</div>
      }
              
	@footer(false)
  	
</div>
}